#### ssh 连接授权方式

- 用户密码授权
- 密钥授权，客户端请求连接后服务端通过客户端指纹查找对应的公钥，然后加密一个随机字符串返回可客户端，客户端查找对应的公钥来解密该字符串并把结果返回给服务端，服务端验证成功就确定连接。

#### 关于 ssh 私钥连接时在哪里查找私钥

- 一般在/.ssh/目录中找 config，然后通过 config 中指定的私钥路径去读取。

- /.ssh/目录下有默认的，但是如果有很多地方都在用的话这个默认的就不够用了，就需要使用 config 了

#### ssh-agent 代理

ssh-agent 会启动一个进程在内存里保存这些私钥。之后每次登录时，ssh 客户端都会跟 ssh-agent 请求是否有目标主机的私钥；如果有，ssh 客户端便能直接登录目标主机。

- 通过 ssh-agent bash 或者 eval `ssh-agent` （这里是 shell 的命令替换符）来启动。
- 通过 ssh-add [url] 为 ssh-agent 添加私钥。
- 可通过 ssh-add -l 来查看已经添加的私钥
